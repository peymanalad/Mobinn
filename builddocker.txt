docker build -t ideed:4.3 C:\ZProjects\iDeed\aspnet-core\src\Chamran.Deed.Web.Host

docker build -t ideedreact:1.0 C:\ZProjects\ideed\react


docker login yasnadocker.yasnasystem.ir
yasnasystem
Y@snaSystem75424

docker images
docker tag 70f481df2cfc yasnadocker.yasnasystem.ir/ideed:4.3
docker push yasnadocker.yasnasystem.ir/ideed:4.3



docker images
docker tag 04f8cc640591 yasnadocker.yasnasystem.ir/ideedreact:1.0
docker push yasnadocker.yasnasystem.ir/ideedreact:1.0

docker-compose down -v
nano docker-compose.yml
docker-compose up -d
docker network connect sqlpoolnetwork deed_registry_1


sudo docker pull yasnadocker.yasnasystem.ir/ideed:4.3
docker build -t ideedfront:1.1 .
docker images
1bde69740be7
docker tag 1bde69740be7 yasnadocker.yasnasystem.ir/ideedfront:1.1
docker push yasnadocker.yasnasystem.ir/ideedfront:1.1





sudo apt-get update && sudo apt-get install jq


#!/bin/bash

# Get list of all tags for ideed repository
tags=$(curl -s https://yasnadocker.yasnasystem.ir/v2/ideed/tags/list | jq -r '.tags[]')

# Loop through each tag and delete the image if it's not the latest one
for tag in $tags
do
    if [[ "$tag" != "2.5" ]]
    then
        echo "Deleting ideed:$tag..."
        curl -X DELETE https://yasnadocker.yasnasystem.ir/v2/ideed/manifests/$tag
    fi
done





#!/bin/bash

# Get list of all tags for ideed repository
tags=$(curl -s https://yasnadocker.yasnasystem.ir/v2/ideed/tags/list | jq -r '.tags[]')

# Loop through each tag and delete the image if it's not the latest one or the "2.5" tag
for tag in $tags
do
    if [[ "$tag" != "latest" ]] && [[ "$tag" != "2.5" ]]
    then
        echo "Deleting ideed:$tag..."
        curl -X DELETE https://yasnadocker.yasnasystem.ir/v2/ideed/manifests/$tag
    fi
done









#!/bin/bash

# Get list of all tags for ideed repository
tags=$(curl -s https://yasnadocker.yasnasystem.ir/v2/ideed/tags/list | jq -r '.tags[]')

# Loop through each tag and delete the image if it's not the latest one or the "2.5" tag
for tag in $tags
do
    if [[ "$tag" != "latest" ]] && [[ "$tag" != "2.5" ]]
    then
        echo "Deleting ideed:$tag..."

        # Get the digest for the image
        digest=$(curl -sI -H "Accept: application/vnd.docker.distribution.manifest.v2+json" https://yasnadocker.yasnasystem.ir/v2/ideed/manifests/$tag | grep Docker-Content-Digest | awk '{print $2}')

        # Delete the image based on the digest
        curl -X DELETE https://yasnadocker.yasnasystem.ir/v2/ideed/manifests/$digest
    fi
done






docker build -t ideed:4.3 C:\ZProjects\iDeed\aspnet-core\src\Chamran.Deed.Web.Host
docker images
docker tag 28b92211b801 yasnadocker.yasnasystem.ir/ideed:4.3
docker push yasnadocker.yasnasystem.ir/ideed:4.3

docker-compose down -v
nano docker-compose.yml
docker-compose up -d
docker network connect sqlpoolnetwork deed_registry_1
