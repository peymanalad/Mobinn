
docker login docker.ideed.ir

docker build -t ideed:16.6 C:\ZProjects\iDeed\aspnet-core\src\Chamran.Deed.Web.Host
docker images
docker tag   5e5d4cbe9b6d docker.ideed.ir/ideed:16.6
docker push docker.ideed.ir/ideed:16.6


docker build -t ideedreact:7.2 C:\ZProjects\ideed\deed-dashboard
docker images
docker tag  ae07f1b028dd docker.ideed.ir/ideedreact:7.2
docker push docker.ideed.ir/ideedreact:7.2


docker build -t ideedpwa:2.3 C:\ZProjects\ideed\pwa
docker images
docker tag  d3ce685e09d0 docker.ideed.ir/ideedpwa:2.3
docker push docker.ideed.ir/ideedpwa:2.3


docker-compose down -v

nano docker-compose.yml
docker-compose up -d

docker network connect sqlpoolnetwork deed_registry_1



sudo killall containerd-shim

sudo killall docker-containerd-shim








sudo docker pull yasnadocker.yasnasystem.ir/ideed:16.6
docker build -t ideedfront:1.1 .
docker images
1bde69740be7
docker tag 1bde69740be7 yasnadocker.yasnasystem.ir/ideedfront:1.1
docker push yasnadocker.yasnasystem.ir/ideedfront:1.1





sudo apt-get update && sudo apt-get install jq


#!/bin/bash

# Get list of all tags for ideed repository
tags=$(curl -s https://yasnadocker.yasnasystem.ir/v2/ideed/tags/list | jq -r '.tags[]')

# Loop through each tag and delete the image if it's not the latest one
for tag in $tags
do
    if [[ "$tag" != "2.5" ]]
    then
        echo "Deleting ideed:$tag..."
        curl -X DELETE https://yasnadocker.yasnasystem.ir/v2/ideed/manifests/$tag
    fi
done





#!/bin/bash

# Get list of all tags for ideed repository
tags=$(curl -s https://yasnadocker.yasnasystem.ir/v2/ideed/tags/list | jq -r '.tags[]')

# Loop through each tag and delete the image if it's not the latest one or the "2.5" tag
for tag in $tags
do
    if [[ "$tag" != "latest" ]] && [[ "$tag" != "2.5" ]]
    then
        echo "Deleting ideed:$tag..."
        curl -X DELETE https://yasnadocker.yasnasystem.ir/v2/ideed/manifests/$tag
    fi
done









#!/bin/bash

# Get list of all tags for ideed repository
tags=$(curl -s https://yasnadocker.yasnasystem.ir/v2/ideed/tags/list | jq -r '.tags[]')

# Loop through each tag and delete the image if it's not the latest one or the "2.5" tag
for tag in $tags
do
    if [[ "$tag" != "latest" ]] && [[ "$tag" != "2.5" ]]
    then
        echo "Deleting ideed:$tag..."

        # Get the digest for the image
        digest=$(curl -sI -H "Accept: application/vnd.docker.distribution.manifest.v2+json" https://yasnadocker.yasnasystem.ir/v2/ideed/manifests/$tag | grep Docker-Content-Digest | awk '{print $2}')

        # Delete the image based on the digest
        curl -X DELETE https://yasnadocker.yasnasystem.ir/v2/ideed/manifests/$digest
    fi
done






docker build -t ideed:16.6 C:\ZProjects\iDeed\aspnet-core\src\Chamran.Deed.Web.Host
docker images
docker tag 6aa8ea59ae0e yasnadocker.yasnasystem.ir/ideed:16.6
docker push yasnadocker.yasnasystem.ir/ideed:16.6

docker-compose down -v
nano docker-compose.yml
docker-compose up -d

